---
import BaseLayout from "../layouts/BaseLayout.astro";
---

<BaseLayout
  title="Impressum – Utildesk"
  description="Impressum für Utildesk."
>
  <Fragment slot="head">
    <meta name="robots" content="noindex,nofollow,noarchive,nosnippet" />
    <meta name="googlebot" content="noindex,nofollow,noarchive,nosnippet" />
  </Fragment>

  <section class="legal">
    <h1>Impressum</h1>
    <p>Angaben gemäß §5 TMG und §18 MStV</p>      <h2>Betreiber</h2>
      <p>
        <span id="impressum-name" data-b1="Uy4gU2" data-b2="tvcnlr" data-b3="b3Y="></span>
      </p>

      <h2>Anschrift</h2>
      <p>
        <span id="impressum-address" data-b1="QWRlcnNzdHJhw59lIDY4LC" data-b2="A0MDIxNSBEw7xzc2VsZG9y" data-b3="ZiwgRGV1dHNjaGxhbmQ="></span>
      </p>

      <h2>E-Mail</h2>
      <p>
        <span id="impressum-email" data-b1="b3V0Y29tZV93YX" data-b2="NoZWQ4MjhAc2ltc" data-b3="GxlbG9naW4uY29t"></span>
      </p>
  </section>

  <script>
    const decode = (el) => {
      if (!el) return "";
      const b1 = el.dataset.b1 || "";
      const b2 = el.dataset.b2 || "";
      const b3 = el.dataset.b3 || "";
      const b64 = `${b1}${b2}${b3}`;

      // UTF-8 safe decode (fixes ÃŸ/Ã¼ artifacts)
      try {
        const bin = atob(b64);
        const bytes = Uint8Array.from(bin, (c) => c.charCodeAt(0));
        return new TextDecoder("utf-8").decode(bytes);
      } catch {
        return "";
      }
    };

  const nameEl = document.getElementById("impressum-name");
  if (nameEl) nameEl.textContent = decode(nameEl);

  const addressEl = document.getElementById("impressum-address");
  if (addressEl) addressEl.textContent = decode(addressEl);

  const emailEl = document.getElementById("impressum-email");
  if (emailEl) emailEl.textContent = decode(emailEl);
</script>
</BaseLayout>
